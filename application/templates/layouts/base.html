<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Shortcut ICON -->
        <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='assets/images/favicon.ico') }}"/>

        <!--  Tittle  -->
        <title>{% block title %}Data Engine{% endblock %}</title>

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

        <!-- Custom CSS -->
        {% assets "home_css" %}
        <link rel="stylesheet" type="text/css" href="{{ ASSET_URL }}">
        {% endassets %}

        <!-- Prismjs CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism-tomorrow.min.css" integrity="sha512-vswe+cgvic/XBoF1OcM/TeJ2FW0OofqAVdCZiEYkd6dwGXthvkSFWOoGGJgS2CW70VK5dQM5Oh+7ne47s74VTg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.css" integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/toolbar/prism-toolbar.css" integrity="sha512-/wmVssmXm7BdNJ88p0FAFcke6Pybw5NcXXaWvGuJRvpBDJzHK1rT2a2vsXRV2aK3Ul3erPBfyBZDNRCFy7ej7Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />


        <!-- Bootstrap-table CSS -->
        <link rel="stylesheet" type="text/css"
              href="https://unpkg.com/bootstrap-table@1.21.2/dist/bootstrap-table.min.css">

        <!-- Datatables CSS -->
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap4.min.css"/>

        <!-- Datatables CSS Extension -->
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/fixedcolumns/4.2.1/css/fixedColumns.bootstrap4.min.css"/>
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.5.0/css/select.bootstrap4.min.css"/>
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.3.3/css/buttons.bootstrap4.min.css"/>

        <!-- AOS -->
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />

        <!-- SwiperJS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"/>

        <!-- Included CSS -->
        {% block import_css %}{% endblock %}
        {% block additional_css %}{% endblock %}
    </head>
    <body onload="">
        <!--  Included Header  -->
        {% block header %}
            {% include "layouts/header.html" %}
        {% endblock header %}

        <main class="main-wrapper" role="main">

            <!-- Toast Alert -->
            {% include "indexes/alert.html" %}
            <button id="toastButton">Show Toast</button>

            <div id="main-page" class="main-page">

                <!--  Included Alert  -->
                {% include "macros/alert.html" %}
                {# include "macros/alert_with_sweet.html" #}

                <!--  Included Content  -->
                <div class="main-content">

                    {% block main_content_wrapper %}
                    <div class="main-share">
                        <div class="main-share-sticky">
                            <i class="fa fa-search" aria-hidden="true"></i>
                            <strong>TEST</strong>
                        </div>
                    </div>
                    <div id="main-content-switch">
                        {% block main_content %}{% endblock main_content %}
                    </div>
                    {% endblock main_content_wrapper %}
                </div>
            </div>
        </main>

        <!--  Included Footer  -->
        {% block footer %}
            {% include "layouts/footer.html" %}
        {% endblock footer %}

        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.6.3.min.js"
                integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU="
                crossorigin="anonymous"></script>

        <!-- Ajax -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>

        <!-- Bootstrap JS  -->
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        <!-- HTMX -->
        <script src="https://unpkg.com/htmx.org@1.8.5"
                integrity="sha384-7aHh9lqPYGYZ7sTHvzP1t3BAfLhYSTy9ArHdP3Xsr9/3TlGurYgcPBoFmXX2TX/w"
                crossorigin="anonymous"></script>

        <!-- Scripting for Hypertext -->
        <script src="https://unpkg.com/hyperscript.org@0.9.7"></script>

        <!-- SweetAlert -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <!-- Bootstrap-Table -->
        <script src="https://unpkg.com/bootstrap-table@1.21.2/dist/bootstrap-table.min.js"></script>

        <!-- Bootstrap-Table Extensions -->
        <script src="https://unpkg.com/bootstrap-table@1.21.2/dist/extensions/copy-rows/bootstrap-table-copy-rows.min.js"></script>
        <script src="https://unpkg.com/bootstrap-table@1.21.2/dist/extensions/multiple-sort/bootstrap-table-multiple-sort.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/tableExport.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF/jspdf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF-AutoTable/jspdf.plugin.autotable.js"></script>
        <script src="https://unpkg.com/bootstrap-table@1.21.2/dist/extensions/export/bootstrap-table-export.min.js"></script>
        <script src="https://unpkg.com/bootstrap-table@1.21.2/dist/extensions/toolbar/bootstrap-table-toolbar.min.js"></script>

        <!-- Datatables JS -->
        <script type="text/javascript" src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap4.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/fixedcolumns/4.2.1/js/dataTables.fixedColumns.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/select/1.5.0/js/dataTables.select.min.js"></script>

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.3.3/js/dataTables.buttons.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.3.3/js/buttons.bootstrap4.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.3.3/js/buttons.colVis.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.3.3/js/buttons.html5.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.3.3/js/buttons.print.min.js"></script>

        {% block import_js %}{% endblock %}

        <!-- AOS -->
        <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

        <!-- Manual Javascript -->
        {% assets "home_js" %}
        <script type="text/javascript" src="{{ ASSET_URL }}"></script>
        {% endassets %}

        <!-- Prismjs Javascript -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!--        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/prism.js" integrity="sha512-suKWrIO0oMp1npdupNuMBiPKcBifQXdNr0RN02DiSvX1Tco9SZvNZP33sKPr6GUt+bjYGuxcoT70mCqEYcwC7w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/components/prism-json.min.js" integrity="sha512-QXFMVAusM85vUYDaNgcYeU3rzSlc+bTV4JvkfJhjxSHlQEo+ig53BtnGkvFTiNJh8D+wv6uWAQ2vJaVmxe8d3w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-fTl/qcO1VgvKtOMApX2PdZzkziyr2stM65GYPLGuYMnuMm1z2JLJG6XVU7C/mR+E7xBUqCivykuhlzfqxXBXbg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha512-BttltKXFyWnGZQcRWj6osIg7lbizJchuAMotOkdLxHxwt/Hyo+cl47bZU0QADg+Qt5DJwni3SbYGXeGMB5cBcw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/toolbar/prism-toolbar.js" integrity="sha512-PuFxiWjCji4u4rLUJv5sY1E2wilxRDd5mmvvNjIUxcJhndJ1bt8ZLZfLzNTflIwgRtr6446ClMR22epU2YK6Mw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.js" integrity="sha512-F5p2MTxLrQEwiEVsAJz7GRAoviA9m4YxQNs0IzyigMLC7mzBGeI7tQYxKP9jmb3IFv6EQIdBKjTIOGyk0KPq9g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <!-- Swiper -->
        <script src='https://cdnjs.cloudflare.com/ajax/libs/Swiper/6.8.4/swiper-bundle.min.js'></script>

        <!-- Tooltip -->
        <script type='text/javascript'>
            // Document Ready
            $(document).ready(function(){

                // AOS Initialize
                AOS.init({
                    // useClassNames: true,
                    // initClassName: false,
                });

                // Data Toggle Tooltip.
                $('[data-toggle="tooltip"]').tooltip();
                $('[data-toggle="popover"]').popover();

                // Add the additional functions.
                {% block additional_document_ready_js %}
                {% endblock %}

            });

            // Function
            $(function(){
                {% block additional_function_js %}
                {% endblock %}
            });

            function flashMessage() {
                console.log("{{ flash_message }}");
                if ("{{ flash_message }}" == "True") {
                    console.log("Start flash message");
                    alert("[YOUR_MESSAGE_HERE]");
                }
            };

            htmx.on('htmx:afterRequest', (e)=> {
                // console.log(e);
                console.log("After All HTMX requested");
                // flashMessage();
            });

            // Config request for all event.
            htmx.on('htmx:configRequest', (e) => {
                console.log(
                    `Config params: ${JSON.stringify(e.detail.parameters)} to `
                    + `'${e.detail.path}' by event '${e.detail.triggeringEvent.type}'`
                );
            });
        </script>
        <script>
            function closeModal() {
                var container = document.getElementById("modalUser")
                var backdrop = document.getElementById("modal-backdrop")
                var modal = document.getElementById("modal")

                modal.classList.remove("show")
                backdrop.classList.remove("show")

                setTimeout(function() {
                    container.removeChild(backdrop)
                    container.removeChild(modal)
                }, 200)
            }
        </script>
        <script>
            const button = document.getElementById("toastButton");
            const toast = document.getElementById("toastCard");
            const closeIcon = document.getElementById("toastClose");
            const progress = document.getElementById("toastProgress");

            let timer1, timer2;

            button.addEventListener("click", () => {
                toast.classList.add("active");
                progress.classList.add("active");

                timer1 = setTimeout(() => {
                    toast.classList.remove("active");
                }, 5000);

                timer2 = setTimeout(() => {
                    progress.classList.remove("active");
                }, 5300);
            });

            closeIcon.addEventListener("click", () => {
                toast.classList.remove("active");
                setTimeout(() => {
                    progress.classList.remove("active");
                }, 300);

                clearTimeout(timer1);
                clearTimeout(timer2);
            });

            // https://stackoverflow.com/questions/1216114/how-can-i-make-a-div-stick-to-the-top-of-the-screen-once-its-been-scrolled-to
            $(window).scroll(function(e){
                var $el = $('.toastButton');
                // console.log($(this).scrollTop());
                // console.log($el);

                // var isPositionFixed = ($el.css('position') == 'fixed');

                // if ($(this).scrollTop() > 200 && !isPositionFixed){
                //     $el.css({'position': 'fixed', 'top': '0px'});
                // }
                // if ($(this).scrollTop() < 200 && isPositionFixed){
                //     $el.css({'position': 'static', 'top': '0px'});
                // }
            });
        </script>

        <!--  Additional JavaScript  -->
        {% block additional_js %}{% endblock %}

    </body>
</html>